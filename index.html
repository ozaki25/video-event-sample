<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>video-event-sample</title>
  </head>
  <body>
    <input type="file" id="file" accept="video/*" />
    <div id="preview"></div>
    <ol id="result"></ol>
    <script>
      const inputFile = document.getElementById('file');
      const preview = document.getElementById('preview');
      const result = document.getElementById('result');

      inputFile.addEventListener('change', onChange);

      function log(name, { videoHeight: height, videoWidth: width, duration }) {
        console.log(`${name} height: ${height}, width: ${width}`);
        const li = document.createElement('li');
        const text = document.createTextNode(
          `${name} height: ${height}, width: ${width}, duration: ${isNaN(duration) ? 0 : duration}`
        );
        li.appendChild(text);
        result.appendChild(li);
      }

      function onChange(event) {
        result.innerHTML = '';

        const file = event.target.files[0];

        const video = document.createElement('video');
        video.src = URL.createObjectURL(file);
        video.controls = true;
        video.style.height = '200px';
        preview.replaceChildren(video);

        video.addEventListener('abort', (e) => {
          log('abort', e.target);
        });

        video.addEventListener('canplay', (e) => {
          log('canplay', e.target);
        });

        video.addEventListener('canplaythrough', (e) => {
          log('canplaythrough', e.target);
        });

        video.addEventListener('durationchange', (e) => {
          log('durationchange', e.target);
        });

        video.addEventListener('emptied', (e) => {
          log('emptied', e.target);
        });

        video.addEventListener('ended', (e) => {
          log('ended', e.target);
        });

        video.addEventListener('error', (e) => {
          log('error', e.target);
        });

        video.addEventListener('loadeddata', (e) => {
          log('loadeddata', e.target);
        });

        video.addEventListener('loadedmetadata', (e) => {
          log('loadedmetadata', e.target);
        });

        video.addEventListener('loadstart', (e) => {
          log('loadstart', e.target);
        });

        video.addEventListener('pause', (e) => {
          log('pause', e.target);
        });

        video.addEventListener('play', (e) => {
          log('play', e.target);
        });

        video.addEventListener('playing', (e) => {
          log('playing', e.target);
        });

        video.addEventListener('progress', (e) => {
          log('progress', e.target);
        });

        video.addEventListener('ratechange', (e) => {
          log('ratechange', e.target);
        });

        video.addEventListener('resize', (e) => {
          log('resize', e.target);
        });

        video.addEventListener('seeked', (e) => {
          log('seeked', e.target);
        });

        video.addEventListener('seeking', (e) => {
          log('seeking', e.target);
        });

        video.addEventListener('stalled', (e) => {
          log('stalled', e.target);
        });

        video.addEventListener('suspend', (e) => {
          log('suspend', e.target);
        });

        video.addEventListener('timeupdate', (e) => {
          log('timeupdate', e.target);
        });

        video.addEventListener('volumechange', (e) => {
          log('volumechange', e.target);
        });

        video.addEventListener('waiting', (e) => {
          log('waiting', e.target);
        });
      }
    </script>
  </body>
</html>
